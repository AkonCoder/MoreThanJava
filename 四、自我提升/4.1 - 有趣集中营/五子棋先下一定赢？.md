> 原文地址：https://www.zhihu.com/question/24053236/answer/32848231
> 引用自：知乎 - 五子棋先下的一定赢吗？如何证明？ - @胡天硕

通常大家玩的五子棋分为带禁手和不带禁手两个版本（前者一般称之为五子棋Gomoku，后者称之为连珠Renju），**无论哪一个版本，先手黑棋均必胜。**

所谓黑必胜的意思是，只要黑棋按照一定的方式下，白棋选择棋盘上的任何一个点都不可能赢棋。

其实在电脑出现之前，五子棋的玩家就发现黑棋采取某些开局赢面的极大，也怀疑有先手必胜的方法。但没有人能够真正“证明”出来白棋无论怎么下都是必败的——这个结论最终还是通关电脑来证明的。

**其中不带禁手是 1992 年 Victor Allis 通过编程证明黑必胜的，文章地址在这里：** https://project.dke.maastrichtuniversity.nl/games/files/phd/SearchingForSolutions.pdf

禁手规则是只针对黑棋的，简而言之是黑棋只允许使用冲四活三这一种赢法（当然不排除白棋故意冲四不挡这种方法）。设计的目的也是为了限制黑棋的巨大优势，白棋也多了逼禁手这儿一种赢法。但后来人们也逐步发现带禁手后，黑棋依然似乎能不败。直到后来，也有人证明，带禁手执黑也可以必胜。

**带禁手的是 2001 是 Janos Wagner 第一次证明黑必胜的，文章地址在这里：** http://www.sze.hu/~gtakacs/download/wagnervirag_2001.pdf

这个后面的证明比前面的证明要强很多，因为按照带禁手的走法，不带禁手也一定必胜，但倒过来未必。

这还不说，为了进一步削弱黑棋的优势，国际上推出五手两打（就是黑棋的第三步需要下两个点，但由白棋挑选让其下较弱的哪一个）的规则。可是人们发现黑棋带禁手依然是必胜。也就是说，黑棋必胜不仅仅有一种方法，而是至少有两种以上（来回应各种变种的第四步）。

从实践的角度来讲，网上是可以搜索“地毯谱”（尤其是花月和蒲月都是五手两打必胜），一般在几百兆左右，可以用 renlib 软件打开，所谓地毯谱的意思就是黑棋会指定下法，但白棋每一步都可以选择棋盘任意位置，最后黑棋必胜。也就是说，只要按照此棋谱下棋，五子棋世界冠军都一定会输给你。

所以正式的比赛才会有三手交换五手两打，山口规则（五手 n 打）这些复杂的规则来平衡比赛。但这些规则也是逐渐被人破解，五子棋的比赛已经很大程度不是在考验自己的临场发挥，而是考验选手对于各种开局的记忆情况。

另外针对有人质疑既然五子棋必胜，为什么还要玩：

**必胜并不代表去网上黑先开浦月、花月就一定人挡杀人，佛挡杀佛。** 必胜的各种分支套路也不是那么容易记住的，诸位可以和 tito2014 或者弈心执黑体验一下（高手绕道）。所以各种对战平台上，就算是在非禁手区拿到胜率远超 50%也不是不可能的。

另外不带禁手的五子棋是属于一类更为普遍的 m,n,k 游戏（m,n,k-game）的一种特例，即 15,15,5。m,n,k 游戏是指 m 行 n 列，轮流下子，连成 k 个算赢。这个在数学中专门有研究如果在最理想下法（Perfect Play）的情况下有什么样不同的结果，比如标准的三连棋（Tic-tac-toe）是 3,3,3 是一个平局，同样只有六路棋盘的五子棋也是平局，当然上面我们已经说明了 15,15,5 是先手必胜。m,n,k 游戏只有先手必胜和平局两种结果。由于每下一个子都一定会对下子一方那一方有优势，所以可以通过反证法证明 m,n,k 游戏里不可能有后手胜利的情况。如果后手有胜利的方法，那么先手可以提前“借鉴”过来实现必胜（Strategy stealing）。

另外除了规定复杂的开局和禁手规则，其实还有一个出路：

除了采取对先手采取各种限制的方法，2003 年被吴毅成教授发明的連六棋(Connect6)也非常类似五子棋，难度很高，但六子棋没有先手优势——因为每一步都下两个子，除了第一步下一个子，这样保证双方每次下棋时，都可以比对方多一个子。AI 目前计算的结果也是，没有发现先手比后手有更大的优势。

既然双方都没有优势，六子棋下满整个（围棋 19x19 棋盘）都没有分出高低都是有可能的。（这个游戏已经不再是 m,n,k 游戏了）

不得不说的是，虽然有个别比赛（gomocup 说你呢）还是在用限定规则的五子棋做 ai 比赛，但是正经的编程奥赛是没有五子棋的比赛（93 年就没了好不好），而被 connect6 这种简约的规则所取代。Connect6 的解决难度几乎与围棋相当。

> 感兴趣传统五子棋和连珠的 AI 算法的可以参考这个问题：
> 现在的五子棋 AI 在职业比赛规则下与人对决是什么水平？ - 人工智能:https://www.zhihu.com/question/27077916
> 和这个页面（英文）:AI EXP - https://www.aiexp.info/pages/yixin-cn.html
